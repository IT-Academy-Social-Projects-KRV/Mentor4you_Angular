<div class="container">
  <div class="content" *ngIf="isAuth">
    <div class="mentor-account__top-line">
      <h2 class="mentor-account__title">{{ "HEADER.MENU.ACCOUNT" | translate }}</h2>

      <div class="mentor-account__top-actions">
        <div class="mentor-account__slide" *ngIf="currentRole === 'mentor'">
          <mat-slide-toggle (toggleChange)="toggleAccountActivate()" [checked]="isAccountActivated"
            [labelPosition]="'before'">Account activated
          </mat-slide-toggle>
        </div>

        <button class="mentor-account__btn" #button (click)="toggleRole(button)">
          {{currentRole == 'mentor' ? 'Move to Mentee Account' : 'Move to Mentor Account'}}
        </button>
      </div>
    </div>

    <div class="mentor-account__avatar-upload">
      
      <div class="mentor-account__avatar-section">
        <p *ngIf="isImage">Preview</p>
        <span id="output" class="thumb"><img [src]="croppedImage" /></span>
      </div>

      <div class="mentor-account__submit-section">
        <button type="button" (click)="fileInput.click()" class="upload-btn"><span class="material-icons">
          edit
          </span></button>
      </div>
    
      <div class="mentor-account__upload-section">
        <input type="file" (change)="onFileSelected($event)" #fileInput>

        <div class="mentor-account__field-upload"> 
          <ng-template #justText>
            <p class="infoBlock"> {{textFieldUpload}}</p>
          </ng-template>
        </div>
      </div>
      <div  *ngIf="isImage; then imgCrop else justText" class="cropperPlace"></div>

      <ng-template #imgCrop>
        <div class="mentor-account__cropper-inside">
          <image-cropper
            [imageChangedEvent]="imageChangedEvent"
            [maintainAspectRatio]="true"
            [aspectRatio]="1 / 1"
            [resizeToWidth]=90
            [cropperMinWidth]=90
            [roundCropper]=true
                       
            format="png"
            (imageCropped)="imageCropped($event)"
          ></image-cropper>
          <button (click)="imgReady()">Save</button>
        </div>
      </ng-template>

      <div class="file-upload">
        <button mat-mini-fab color="primary" class="upload-btn" (click)="onUpload()" [disabled]="isBtnDisabled">
          <mat-icon>attach_file</mat-icon>
        </button>
      </div>
    </div>
    
    
    <div [ngSwitch]="true">
      <div class="mentor" *ngSwitchCase="currentRole === 'mentor'">
        <app-account-mentor (setMentorData)="setMentorData($event)"></app-account-mentor>
      </div>

      <div class="mentee" *ngSwitchCase="currentRole === 'mentee'">
        <app-account-mentee></app-account-mentee>
      </div>
    </div>
  </div>
</div>


